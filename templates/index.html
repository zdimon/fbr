{% extends 'base.html' %}


 {% block body %}

     <div id="radiation" style="width:700px; height:700px; border: 2px solid silver"></div>

     <div id="slope" style="width:700px; height:700px; border: 2px solid silver"></div>


 

 <script type="text/javascript">
            OpenLayers._getScriptLocation = function(){
                return "http://rs1.adc4gis.com/js/openlayers/2.9.1/";
            };


            var starttime = +new Date,
                slope_map = new OpenLayers.Map("slope",{allOverlays: true}),
                parser = new OpenLayers.Format.GeoJSON(),
                vector = new OpenLayers.Layer.Vector("Converted"),

                shapefile = new Shapefile({
                    shp: "/static/data/slope_250.shp",
                    dbf: "/static/data/slope_250.dbf"
                }, function(data){
                    var features = parser.read(data.geojson);
                    vector.addFeatures(features);
                    slope_map.zoomToExtent(vector.getDataExtent());

                    console.log("took",new Date - starttime,"milliseconds")
                    console.log(data);
                })

                slope_map.addLayer(vector);


                radiation_map = new OpenLayers.Map("radiation",{allOverlays: true}),
                parser = new OpenLayers.Format.GeoJSON(),
                vector = new OpenLayers.Layer.Vector("Converted"),

                shapefile = new Shapefile({
                    shp: "/static/data/radiation250.shp",
                    dbf: "/static/data/radiation250.dbf"
                }, function(data){
                    var features = parser.read(data.geojson);
                    vector.addFeatures(features);
                    radiation_map.zoomToExtent(vector.getDataExtent());

                    console.log("took",new Date - starttime,"milliseconds")
                    console.log(data);
                })

                radiation_map.addLayer(vector);

        </script>

{% endblock %}

